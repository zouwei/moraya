# v0.14.0 AI æ¨¡å‹ä¸å›¾åºŠèƒ½åŠ›å¢å¼º

**ç‰ˆæœ¬ï¼š** v0.14.0
**çŠ¶æ€ï¼š** å·²å®Œæˆ
**æ—¥æœŸï¼š** 2026-02-25

---

## èƒŒæ™¯ä¸ç›®æ ‡

å½“å‰ v0.13.1 ç‰ˆæœ¬çš„ AI ä¸å›¾åºŠèƒ½åŠ›å­˜åœ¨ä»¥ä¸‹ä¸è¶³ï¼š

1. å„ AI å¯¹è¯ provider çš„ model åˆ—è¡¨å·²è¿‡æ—¶ï¼ˆClaude / OpenAI / Gemini å‡æœ‰æ–°æ¨¡å‹å‘å¸ƒï¼‰
2. å¯¹è¯ AI provider è¦†ç›–é¢ä¸è¶³ï¼ŒGrokï¼ˆæ–‡æœ¬ï¼‰ã€Mistralã€GLMï¼ˆæ™ºè°±ï¼‰ã€MiniMaxã€è±†åŒ…ç­‰ä¸»æµæ¨¡å‹ç¼ºå¸­
3. å›¾åƒç”Ÿæˆ AI çš„ model å­—æ®µæ˜¯çº¯æ–‡æœ¬è¾“å…¥ï¼Œæ— æ³•æ„ŸçŸ¥å¯ç”¨æ¨¡å‹ï¼Œç”¨æˆ·ä½“éªŒå·®
4. å›¾åƒç”Ÿæˆä»…æ”¯æŒ OpenAI DALL-E / Grokï¼Œç¼ºå°‘ Google Gemini Imagenã€åƒé—®ã€è±†åŒ…ç­‰ä¸»æµå›¾åƒæ¨¡å‹
5. å›¾åºŠä»… 4 ç§ï¼ˆSM.MSã€Imgurã€GitHubã€Customï¼‰ï¼Œç¼ºå°‘å¯¹è±¡å­˜å‚¨ï¼ˆä¸ƒç‰›ã€é˜¿é‡Œ OSSã€è…¾è®¯ COSã€AWS S3ã€Google GCSï¼‰ï¼›éšç€ provider å¢å¤šï¼Œ"æ·»åŠ "èœå•éœ€è¦é‡æ–°è®¾è®¡

---

## F1ï¼šå¯¹è¯ AI æ¨¡å‹åˆ—è¡¨æ›´æ–°

### éœ€æ±‚æè¿°

å°†å„ provider çš„é¢„è®¾ model åˆ—è¡¨æ›´æ–°è‡³ 2026 å¹´ 2 æœˆæœ€æ–°ç‰ˆæœ¬ã€‚

### å®æ–½ç»“æœ

**ä¿®æ”¹æ–‡ä»¶ï¼š** `src/lib/services/ai/types.ts`ï¼ˆ`DEFAULT_MODELS` å¸¸é‡ï¼‰

```typescript
export const DEFAULT_MODELS: Record<AIProvider, string[]> = {
  claude: [
    'claude-opus-4-6',
    'claude-sonnet-4-6',
    'claude-haiku-4-5-20251001',
    'claude-3-5-sonnet-20241022',
    'claude-3-5-haiku-20241022',
  ],
  openai: [
    'gpt-4o', 'gpt-4o-mini', 'o3', 'o3-mini', 'o1', 'o1-mini', 'gpt-4.5-preview',
  ],
  gemini: [
    'gemini-2.0-flash-001', 'gemini-2.0-flash-lite-001', 'gemini-2.0-pro-exp',
    'gemini-1.5-pro-002', 'gemini-1.5-flash-002', 'gemini-1.5-flash-8b',
  ],
  deepseek: ['deepseek-chat', 'deepseek-reasoner'],
  ollama: ['llama3.3', 'llama3.2', 'qwen2.5', 'qwen2.5-coder', 'phi4', 'gemma3', 'deepseek-r1', 'mistral', 'codellama'],
  grok:    ['grok-3', 'grok-3-fast', 'grok-3-mini', 'grok-2-1212'],
  mistral: ['mistral-large-latest', 'mistral-small-latest', 'mistral-nemo', 'codestral-latest', 'pixtral-large-latest'],
  glm:     ['glm-4-plus', 'glm-4-air', 'glm-4-flash', 'glm-z1-flash', 'glm-z1-air', 'glm-z1-plus'],
  minimax: ['MiniMax-Text-01', 'abab6.5s-chat', 'abab6.5g-chat'],
  doubao:  ['doubao-pro-32k', 'doubao-lite-32k', 'doubao-pro-128k', 'doubao-character-pro-32k'],
  custom:  [],
};
```

---

## F2ï¼šå¯¹è¯ AI Provider æ‰©å……

### éœ€æ±‚æè¿°

æ–°å¢ 5 ä¸ªä¸»æµ AI å¯¹è¯ providerï¼šGrokï¼ˆxAI æ–‡æœ¬ï¼‰ã€Mistralã€GLMï¼ˆæ™ºè°±AIï¼‰ã€MiniMaxã€è±†åŒ…ï¼ˆDoubao/ByteDanceï¼‰ã€‚

æ‰€æœ‰æ–° provider å‡å…¼å®¹ OpenAI API æ ¼å¼ï¼Œå¤ç”¨ç°æœ‰ `providers.ts` çš„ OpenAI é€‚é…å™¨ã€‚

### å®æ–½ç»“æœ

#### ç±»å‹æ‰©å±•ï¼ˆ`src/lib/services/ai/types.ts`ï¼‰

```typescript
export type AIProvider =
  | 'claude' | 'openai' | 'gemini' | 'deepseek' | 'ollama'
  | 'grok' | 'mistral' | 'glm' | 'minimax' | 'doubao'
  | 'custom';

export const PROVIDER_BASE_URLS: Record<AIProvider, string> = {
  claude:   'https://api.anthropic.com',
  openai:   'https://api.openai.com',
  gemini:   'https://generativelanguage.googleapis.com',
  deepseek: 'https://api.deepseek.com',
  ollama:   'http://localhost:11434',
  grok:     'https://api.x.ai',
  mistral:  'https://api.mistral.ai',
  glm:      'https://open.bigmodel.cn/api/paas/v4',
  minimax:  'https://api.minimax.io/v1',
  doubao:   'https://ark.cn-beijing.volces.com/api/v3',
  custom:   '',
};
```

#### é€‚é…å™¨è·¯ç”±ï¼ˆ`src/lib/services/ai/providers.ts`ï¼‰

æ–° provider å‡è·¯ç”±è‡³å·²æœ‰ `callOpenAI()` é€‚é…å™¨ã€‚Rust ä»£ç† `ai_proxy.rs` ä¸­èµ°æ ‡å‡† `Authorization: Bearer {apiKey}` headerã€‚

#### UI å±•ç¤ºï¼ˆ`src/lib/components/ai/AISettings.svelte`ï¼‰

| Provider å€¼ | å›¾æ ‡ | æ˜¾ç¤ºåç§° |
|------------|------|---------|
| `grok`    | âš¡   | xAI Grok |
| `mistral` | ğŸŒŠ   | Mistral AI |
| `glm`     | ğŸ§    | æ™ºè°± GLM |
| `minimax` | ğŸ”®   | MiniMax |
| `doubao`  | ğŸ«§   | è±†åŒ… |

---

## F3ï¼šå›¾åƒç”Ÿæˆ AI model æ™ºèƒ½æ„ŸçŸ¥

### éœ€æ±‚æè¿°

å›¾åƒ AI config çš„ model å­—æ®µæ”¹ä¸ºæ”¯æŒé¢„è®¾é€‰æ‹©ï¼ŒåŒæ—¶ä¿ç•™æ‰‹åŠ¨è¾“å…¥ä»»æ„å€¼çš„èƒ½åŠ›ã€‚

### å®æ–½ç»“æœ

é‡‡ç”¨ HTML5 åŸç”Ÿ `<input>` + `<datalist>` æ–¹æ¡ˆï¼ˆéè‡ªå®šä¹‰æµ®å±‚ï¼‰ï¼Œæµè§ˆå™¨åŸç”Ÿæ”¯æŒï¼šè¾“å…¥æ—¶è‡ªåŠ¨è¿‡æ»¤åŒ¹é…é¡¹ã€æ–¹å‘é”®å¯¼èˆªã€Enter ç¡®è®¤ã€ç‚¹å‡»é€‰æ‹©ï¼ŒåŒæ—¶å…è®¸æ‰‹åŠ¨è¾“å…¥ä»»æ„å€¼ã€‚

**é¢„è®¾æ•°æ®ï¼ˆ`src/lib/services/ai/types.ts`ï¼‰ï¼š**

```typescript
export const DEFAULT_IMAGE_MODELS: Record<ImageProvider, string[]> = {
  openai:  ['dall-e-3', 'dall-e-2', 'gpt-image-1'],
  grok:    ['aurora'],
  gemini:  ['imagen-3.0-generate-002', 'imagen-3.0-fast-generate-001'],
  qwen:    ['wanx2.1-t2i-turbo', 'wanx2.1-t2i-plus', 'wanx-v1'],
  doubao:  ['doubao-seedream-5-0-260128', 'doubao-seedream-3-0-t2i-250415', 'doubao-t2i-2.1-xl-240729'],
  custom:  [],
};
```

---

## F4ï¼šå›¾åƒç”Ÿæˆæ¨¡å‹æ‰©å……

### éœ€æ±‚æè¿°

æ–°å¢ Google Gemini Imagenã€åƒé—®ï¼ˆQwenï¼‰ã€è±†åŒ…ï¼ˆDoubaoï¼‰ä½œä¸ºå›¾åƒç”Ÿæˆ providerã€‚

### å®æ–½ç»“æœ

#### ç±»å‹æ‰©å±•ï¼ˆ`src/lib/services/ai/types.ts`ï¼‰

```typescript
export type ImageProvider = 'openai' | 'grok' | 'gemini' | 'qwen' | 'doubao' | 'custom';

export const IMAGE_PROVIDER_PRESETS: Record<ImageProvider, { baseURL: string; model: string }> = {
  openai:  { baseURL: 'https://api.openai.com/v1',                             model: 'dall-e-3' },
  grok:    { baseURL: 'https://api.x.ai/v1',                                   model: 'aurora' },
  gemini:  { baseURL: 'https://generativelanguage.googleapis.com',              model: 'imagen-3.0-generate-002' },
  qwen:    { baseURL: 'https://dashscope.aliyuncs.com/compatible-mode/v1',      model: 'wanx2.1-t2i-turbo' },
  doubao:  { baseURL: 'https://ark.cn-beijing.volces.com/api/v3',               model: 'doubao-seedream-5-0-260128' },
  custom:  { baseURL: '', model: '' },
};
```

#### Gemini Imagen é€‚é…å™¨ï¼ˆ`src/lib/services/ai/image-service.ts`ï¼‰

æ¥å£ï¼š`POST /v1beta/models/{model}:predict?key={apiKey}`

è¯·æ±‚ä½“ï¼š
```json
{
  "instances": [{ "prompt": "..." }],
  "parameters": { "sampleCount": 1, "aspectRatio": "16:9" }
}
```

å“åº”ï¼š`predictions[].bytesBase64Encoded` â†’ `data:image/png;base64,...`

Rust ä»£ç†ï¼ˆ`ai_proxy.rs`ï¼‰ï¼šå½“ provider = `"gemini"` ä¸”è·¯å¾„å« `:predict` æ—¶ï¼Œä»¥ query param æ–¹å¼æ³¨å…¥ API Keyï¼ˆ`?key={apiKey}`ï¼‰ã€‚

#### è±†åŒ…è¿æ¥æµ‹è¯•ç‰¹æ®Šå¤„ç†

VolcEngine `/models` ä¸æ¥å— POST è¯·æ±‚ï¼Œè±†åŒ…è¿æ¥æµ‹è¯•æ”¹ä¸º POST `/images/generations`ï¼Œæ¥å— HTTP 400/422 ä½œä¸ºè¿é€šæ€§ç¡®è®¤ã€‚

---

## F5ï¼šå›¾åºŠæ‰©å……å¯¹è±¡å­˜å‚¨

### éœ€æ±‚æè¿°

æ–°å¢ 5 ç§å¯¹è±¡å­˜å‚¨ä½œä¸ºå›¾åºŠï¼šä¸ƒç‰›äº‘ Kodoã€é˜¿é‡Œäº‘ OSSã€è…¾è®¯äº‘ COSã€AWS S3ã€Google Cloud Storageã€‚"æ·»åŠ å›¾åºŠ"èœå•æ”¹ä¸ºåˆ†ç»„ä¸‹æ‹‰èœå•ã€‚

### å®‰å…¨æ¶æ„å†³ç­–

å¯¹è±¡å­˜å‚¨å‡éœ€ HMAC è¯·æ±‚ç­¾åï¼Œå¯†é’¥ä¸å¯åœ¨å‰ç«¯ JS ä¸­å‡ºç°ã€‚

**æ–¹æ¡ˆï¼š** åœ¨ Rust åç«¯ `object_storage.rs` æ¨¡å—ä¸­å®ç°ç­¾åé€»è¾‘ï¼Œæš´éœ² `upload_to_object_storage` Tauri å‘½ä»¤ã€‚å‰ç«¯é€šè¿‡ `invoke()` è°ƒç”¨ï¼ŒAK/SK ç›´æ¥ä»å‰ç«¯ä¼ å…¥ï¼ˆå·²ä»ç”¨æˆ·è¾“å…¥æˆ– keychain è·å–ï¼‰ï¼ŒRust å®Œæˆç­¾åä¸Šä¼ ã€‚

### å„ Provider ç­¾åæ–¹æ¡ˆ

| Provider | è®¤è¯æ–¹å¼ | ç­¾åç®—æ³• |
|---------|---------|---------|
| ä¸ƒç‰›äº‘ Kodo | Upload Tokenï¼ˆä¸Šä¼ ç­–ç•¥ç­¾åï¼‰ | HMAC-SHA1(SK, base64url_pad(policy)) |
| é˜¿é‡Œäº‘ OSS | Authorization Header | HMAC-SHA1(AKSecret, canonicalString) â†’ Base64Std |
| è…¾è®¯äº‘ COS | q-sign-algorithm=sha1 Header | HMAC-SHA1(SignKey, StringToSign) â†’ Hex |
| AWS S3 | SigV4ï¼ˆAWS4-HMAC-SHA256ï¼‰ | 4çº§ HMAC-SHA256 key derivation â†’ Hex |
| Google GCS | GOOG4-HMAC-SHA256 | 4çº§ HMAC-SHA256 derivationï¼ˆGOOG4å‰ç¼€ï¼‰â†’ Hex |

> **ä¸ƒç‰› Upload Token æ³¨æ„äº‹é¡¹ï¼š** ç¼–ç å¿…é¡»ä½¿ç”¨ URL-safe base64 **å«**å¡«å……å­—ç¬¦ï¼ˆ`=`ï¼‰ï¼Œå¯¹åº” Rust `general_purpose::URL_SAFE`ï¼Œä¸å®˜æ–¹ Go SDK `base64.URLEncoding` ä¸€è‡´ã€‚ä½¿ç”¨æ— å¡«å……ç¼–ç ä¼šå¯¼è‡´ 401 BadToken é”™è¯¯ã€‚

### Region æ™ºèƒ½æ„ŸçŸ¥

æ‰€æœ‰å¯¹è±¡å­˜å‚¨æä¾›å•†çš„ Region å­—æ®µæ”¹ä¸º `<input>` + `<datalist>` æ–¹æ¡ˆï¼š

- ç”¨æˆ·å¯ä»ä¸‹æ‹‰é¢„è®¾ä¸­é€‰æ‹©ï¼ˆè¾“å…¥æ—¶è‡ªåŠ¨è¿‡æ»¤åŒ¹é…ï¼‰
- ä¹Ÿå¯æ‰‹åŠ¨è¾“å…¥ä»»æ„è‡ªå®šä¹‰å€¼
- å„å‚å•†é¢„è®¾åŒºåŸŸæ•°é‡ï¼šä¸ƒç‰› 5 ä¸ªã€é˜¿é‡Œ OSS 19 ä¸ªã€è…¾è®¯ COS 17 ä¸ªã€AWS S3 20 ä¸ªã€Google GCS 23 ä¸ª

### å„ Provider é…ç½®å­—æ®µ

| å­—æ®µ | ä¸ƒç‰› | é˜¿é‡Œ OSS | è…¾è®¯ COS | AWS S3 | Google GCS |
|-----|:---:|:-------:|:-------:|:------:|:----------:|
| AccessKey/ID | âœ“ | âœ“ | âœ“ | âœ“ | âœ“ |
| SecretKey | âœ“ | âœ“ | âœ“ | âœ“ | âœ“ |
| Bucket | âœ“ | âœ“ | âœ“ | âœ“ | âœ“ |
| Region | âœ“ | âœ“ | âœ“ | âœ“ | âœ“ |
| è‡ªå®šä¹‰ Endpoint | â€” | âœ“ | â€” | âœ“ | â€” |
| CDN åŠ é€ŸåŸŸå | âœ“ | âœ“ | âœ“ | âœ“ | âœ“ |
| è·¯å¾„å‰ç¼€ | âœ“ | âœ“ | âœ“ | âœ“ | âœ“ |

### "æ·»åŠ å›¾åºŠ"èœå•åˆ†ç»„

```
â–¼ + Add Image Host
â”€â”€â”€ API å›¾åºŠ â”€â”€â”€
  ğŸŸ  SM.MS    ğŸŸ¢ Imgur    ğŸŸ£ è‡ªå®šä¹‰ API
â”€â”€â”€ ä»£ç æ‰˜ç®¡ â”€â”€â”€
  ğŸ”µ GitHub
â”€â”€â”€ å¯¹è±¡å­˜å‚¨ â”€â”€â”€
  ğŸŸ¡ ä¸ƒç‰›äº‘ Kodo    ğŸ”´ é˜¿é‡Œäº‘ OSS    ğŸ”µ è…¾è®¯äº‘ COS
  â¬› AWS S3         ğŸŒ Google Cloud Storage
```

---

## é™„åŠ æ”¹è¿›ï¼ˆè¶…å‡ºåŸè®¡åˆ’ï¼‰

### æµ‹è¯•è¿æ¥é”™è¯¯ä¿¡æ¯å±•ç¤º

- AI å¯¹è¯ / AI å›¾åƒ / å›¾åºŠä¸‰å¤„"æµ‹è¯•è¿æ¥"æŒ‰é’®å‡åœ¨æŒ‰é’®ä¸‹æ–¹æ˜¾ç¤ºé”™è¯¯æ–‡å­—
- é”™è¯¯ä¿¡æ¯ä¸æŒ‰é’®çŠ¶æ€åŒæ­¥æ¶ˆå¤±ï¼ˆ5 ç§’åè‡ªåŠ¨æ¸…é™¤ï¼‰
- ä¿®æ”¹ `testAIConnection` / `testImageConnection` è¿”å›å€¼ç±»å‹ä¸º `{success: boolean; error?: string}`

### è®¾ç½®é¡µé¢æ€§èƒ½ä¿®å¤

**é—®é¢˜ï¼š** è®¾ç½®é¢æ¿æ¯æ¬¡æ‰“å¼€ä¼šç´¯ç§¯æ–°çš„ store subscription è€Œä»ä¸æ¸…ç†ï¼Œå¯¼è‡´è¶Šç”¨è¶Šå¡ã€‚

**ä¿®å¤ï¼š** å°† `SettingsPanel.svelte`ã€`AISettings.svelte`ã€`ImageHostingSettings.svelte` ä¸­æ‰€æœ‰è£¸éœ²çš„ `store.subscribe()` è°ƒç”¨åŒ…è£¹åœ¨ `$effect(() => { ...; return unsub; })` ä¸­ï¼Œç¡®ä¿ç»„ä»¶é”€æ¯æ—¶è®¢é˜…è‡ªåŠ¨æ¸…ç†ã€‚

### è®¾ç½® Tab åˆ‡æ¢æµç•…åŒ–

**é—®é¢˜ï¼š** ä½¿ç”¨ `{#if}/{:else if}` åˆ‡æ¢ Tab æ—¶ï¼Œé‡å‹ç»„ä»¶ï¼ˆAISettings / MCPPanel / ImageHostingSettings / PublishSettingsï¼‰æ¯æ¬¡åˆ‡æ¢éƒ½ä¼šé”€æ¯é‡å»ºï¼Œå¯¼è‡´æ˜æ˜¾å»¶è¿Ÿã€‚

**ä¿®å¤ï¼š** å››ä¸ªé‡å‹ç»„ä»¶æ”¹ä¸ºå§‹ç»ˆæŒ‚è½½ï¼Œé€šè¿‡ CSS æ§åˆ¶æ˜¾ç¤º/éšè—ï¼š

```css
.tab-pane { display: none; }
.tab-pane.active { display: contents; }
```

### macOS å¤–ç½®ç¡¬ç›˜è®¿é—®ä¿®å¤

**é—®é¢˜ï¼š** `validate_path()` å®‰å…¨æ£€æŸ¥åªå…è®¸ home ç›®å½•å†…çš„è·¯å¾„ï¼Œå¯¼è‡´å¤–ç½®ç¡¬ç›˜ï¼ˆmacOS `/Volumes/`ï¼‰ä¸Šçš„æ–‡ä»¶æ— æ³•æ‰“å¼€/ä¿å­˜ã€‚

**ä¿®å¤ï¼š**
- `src-tauri/src/commands/file.rs`ï¼š`validate_path()` æ–°å¢ç™½åå•ï¼šmacOS `/Volumes/`ã€Linux `/media/` å’Œ `/mnt/`ã€Windows é C ç›˜è·¯å¾„
- `src-tauri/capabilities/default.json`ï¼šæ–°å¢ `fs:scope` å…è®¸ `/Volumes/**`ã€`/media/**`ã€`/mnt/**`

### ä¸ƒç‰› Kodo ä¸Šä¼ ä¿®å¤

**é—®é¢˜ 1ï¼ˆAPI é”™è¯¯ï¼‰ï¼š** åŸå®ç°ä½¿ç”¨ `PUT {endpoint}/{key}` å‘é€åŸå§‹å­—èŠ‚ï¼Œå®é™…åº”ä½¿ç”¨ `POST multipart/form-data`ï¼ˆå­—æ®µï¼š`token`ã€`key`ã€`file`ï¼‰ã€‚

**é—®é¢˜ 2ï¼ˆç­¾åé”™è¯¯ï¼‰ï¼š** Upload Token ä¸­çš„ base64 ç¼–ç ä½¿ç”¨äº†æ— å¡«å……ç‰ˆæœ¬ï¼ˆ`URL_SAFE_NO_PAD`ï¼‰ï¼Œå¯¼è‡´æœåŠ¡ç«¯è¿”å› 401 BadTokenã€‚ä¿®å¤åæ”¹ç”¨å«å¡«å……çš„ `URL_SAFE`ï¼Œä¸ä¸ƒç‰›å®˜æ–¹ Go SDK ä¸€è‡´ã€‚

---

## ä¿®æ”¹æ–‡ä»¶æ¸…å•

### å‰ç«¯

| æ–‡ä»¶ | æ”¹åŠ¨ |
|------|------|
| `src/lib/services/ai/types.ts` | æ‰©å±• AIProvider / DEFAULT_MODELS / PROVIDER_BASE_URLSï¼›æ‰©å±• ImageProvider / DEFAULT_IMAGE_MODELS / IMAGE_PROVIDER_PRESETSï¼ˆå« qwenã€doubaoï¼‰ |
| `src/lib/services/ai/providers.ts` | æ–° provider è·¯ç”±è‡³ OpenAI é€‚é…å™¨ |
| `src/lib/services/ai/image-service.ts` | æ–°å¢ Gemini Imagen é€‚é…ï¼›doubao è¿æ¥æµ‹è¯•ç‰¹æ®Šåˆ†æ”¯ï¼›è¿”å›ç±»å‹æ”¹ä¸º `{success, error?}` |
| `src/lib/services/ai/ai-service.ts` | è¿”å›ç±»å‹æ”¹ä¸º `{success, error?}` |
| `src/lib/components/ai/AISettings.svelte` | æ–°å¢ 5 ä¸ªå¯¹è¯ providerï¼›å›¾åƒ provider æ–°å¢ gemini/qwen/doubaoï¼›model å­—æ®µæ”¹ä¸º datalistï¼›é”™è¯¯å±•ç¤ºï¼›è®¢é˜…æ¸…ç† |
| `src/lib/services/image-hosting/types.ts` | æ‰©å±• ImageHostProviderï¼›æ–°å¢ OSS å­—æ®µ |
| `src/lib/services/image-hosting/providers.ts` | æ–°å¢ uploadToObjectStorageï¼ˆè°ƒç”¨ Tauri invokeï¼‰ |
| `src/lib/components/ImageHostingSettings.svelte` | åˆ†ç»„æ·»åŠ èœå•ï¼›OSS é…ç½®è¡¨å•ï¼›Region datalistï¼›é”™è¯¯å±•ç¤ºï¼›è®¢é˜…æ¸…ç†ï¼›å¡ç‰‡å¸ƒå±€ä¿®å¤ |
| `src/lib/components/SettingsPanel.svelte` | è®¢é˜…æ¸…ç†ï¼›é‡å‹ Tab æ”¹ä¸º CSS å¸¸é©»æŒ‚è½½ |
| `src/lib/stores/settings-store.ts` | ImageHostTarget æ–°å­—æ®µé»˜è®¤å€¼åŠè¿ç§» |
| `src/lib/i18n/locales/en.json` | æ–° provider æ ‡ç­¾ã€OSS å­—æ®µæ ‡ç­¾ã€selectRegion |
| `src/lib/i18n/locales/zh-CN.json` | åŒä¸Šï¼ˆä¸­æ–‡ï¼‰ |

### Rust åç«¯

| æ–‡ä»¶ | æ”¹åŠ¨ |
|------|------|
| `src-tauri/src/commands/object_storage.rs` | **æ–°å»º**ï¼š5 provider HMAC ç­¾å + `upload_to_object_storage` å‘½ä»¤ |
| `src-tauri/src/commands/mod.rs` | æ·»åŠ  `pub mod object_storage` |
| `src-tauri/src/lib.rs` | æ³¨å†Œ `upload_to_object_storage` å‘½ä»¤ |
| `src-tauri/Cargo.toml` | æ–°å¢ hmac / sha2 / sha1 / hex / chrono / serde_json ä¾èµ– |
| `src-tauri/src/commands/ai_proxy.rs` | Gemini `:predict` è·¯å¾„èµ° query param key æ³¨å…¥ |
| `src-tauri/src/commands/file.rs` | validate_path() æ–°å¢å¤–ç½®å­˜å‚¨ç™½åå• |
| `src-tauri/capabilities/default.json` | æ–°å¢ /Volumes/**ã€/media/**ã€/mnt/** fs scope |

### æ–‡æ¡£ & ç‰ˆæœ¬

| æ–‡ä»¶ | æ”¹åŠ¨ |
|------|------|
| `docs/iterations/v0.14.0-ai-model-imagehost-enhancement.md` | æœ¬æ–‡æ¡£ |
| `README.md` | Development Roadmap æ–°å¢æ‘˜è¦è¡Œ |
| `package.json` + `src-tauri/Cargo.toml` + `src-tauri/tauri.conf.json` | ç‰ˆæœ¬å‡è‡³ 0.14.0 |

---

## éªŒè¯æ–¹æ¡ˆ

| åŠŸèƒ½ | éªŒè¯æ­¥éª¤ |
|------|---------|
| F1 æ¨¡å‹æ›´æ–° | è®¾ç½® â†’ AI â†’ æ–°å»ºé…ç½® â†’ åˆ‡æ¢å„ providerï¼Œç¡®è®¤ä¸‹æ‹‰åŒ…å«æ–° model |
| F2 æ–° provider | åˆ†åˆ«é…ç½® Grok/Mistral/GLM/MiniMax/è±†åŒ… API Keyï¼Œæµ‹è¯•è¿æ¥æˆåŠŸï¼›å‘é€å¯¹è¯æ¶ˆæ¯ï¼Œç¡®è®¤æµå¼å›å¤æ­£å¸¸ |
| F3 model æ„ŸçŸ¥ | æ–°å»ºå›¾åƒ AI é…ç½® â†’ ç‚¹å‡» model è¾“å…¥æ¡† â†’ å¼¹å‡ºé¢„è®¾åˆ—è¡¨ â†’ é”®å…¥è¿‡æ»¤ â†’ é€‰æ‹© â†’ å€¼æ›´æ–° |
| F4 å›¾åƒ provider | é…ç½® Gemini/Qwen/Doubao å›¾åƒ provider â†’ æµ‹è¯•è¿æ¥æˆåŠŸ â†’ ç”Ÿæˆå›¾ç‰‡æ­£å¸¸æ˜¾ç¤º |
| F5 å¯¹è±¡å­˜å‚¨ | è®¾ç½® â†’ å›¾åºŠ â†’ åˆ†ç»„èœå•å‡ºç° â†’ é…ç½®ä¸ƒç‰›äº‘ï¼ˆRegion é€‰ z2ï¼‰â†’ æµ‹è¯•ä¸Šä¼ æˆåŠŸï¼Œè¿”å›æœ‰æ•ˆ URL |
| é”™è¯¯å±•ç¤º | æµ‹è¯•è¿æ¥å¤±è´¥æ—¶ï¼Œé”™è¯¯ä¿¡æ¯æ˜¾ç¤ºåœ¨æŒ‰é’®ä¸‹æ–¹ï¼Œ5 ç§’åä¸æŒ‰é’®çŠ¶æ€åŒæ­¥æ¶ˆå¤± |
| è®¾ç½®æ€§èƒ½ | åå¤åˆ‡æ¢è®¾ç½® Tab åŠç‚¹å‡»æŒ‰é’®ï¼Œæ— æ˜æ˜¾å¡é¡¿ç§¯ç´¯ |
| å¤–ç½®ç¡¬ç›˜ | macOS å¤–ç½®ç¡¬ç›˜æ–‡ä»¶å¯æ­£å¸¸æ‰“å¼€ã€ä¿å­˜ |
